# åŒ—é©¬AIå·¥å…·åŒ… - é¡¹ç›®æ¶æ„æ–‡æ¡£

**åŒ—é©¬AIÂ·ä¸ä½ åŒåœ¨ ğŸ˜Š**

## ğŸ“Œ æ–‡æ¡£æ¦‚è§ˆ

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»åŒ—é©¬AIå·¥å…·åŒ…(BMAI Tools)çš„æ•´ä½“æ¶æ„ã€æŠ€æœ¯å®ç°å’Œæ¨¡å—è®¾è®¡ã€‚

---

## ğŸ¯ é¡¹ç›®å®šä½

**ä¸€ç«™å¼ AI CLI ç®¡ç†å¹³å°**

åŒ—é©¬AIå·¥å…·åŒ…æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„é…ç½®ç®¡ç†å¹³å°,å¸®åŠ©å¼€å‘è€…è½»æ¾é©¾é©­ä¸‰å¤§ AI åŠ©æ‰‹:
- Claude Code(å¼€å‘ä¸»åŠ›)
- Gemini CLI(å‰ç«¯è®¾è®¡)
- Codex(æµ‹è¯•è°ƒè¯•)

### æ ¸å¿ƒä»·å€¼
1. **é›†ä¸­ç®¡ç†** - ä¸€ä¸ªåº”ç”¨ç®¡ç†ä¸‰ä¸ª AI CLI çš„æ‰€æœ‰é…ç½®
2. **å¿«é€Ÿåˆ‡æ¢** - ä¸ç”¨æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶,ä¸€é”®åˆ‡æ¢ä¾›åº”å•†
3. **åŠŸèƒ½å®Œæ•´** - Provider/MCP/Skills/Prompts å…¨æ–¹ä½ç®¡ç†
4. **è·¨å¹³å°** - Windows/macOS/Linux å®Œç¾æ”¯æŒ

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç”¨æˆ·ç•Œé¢å±‚(UI)                          â”‚
â”‚                  React 18 + TypeScript                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Providers   â”‚     MCP      â”‚    Skills    â”‚  Prompts  â”‚ â”‚
â”‚  â”‚   ç®¡ç†ç•Œé¢   â”‚   ç®¡ç†ç•Œé¢   â”‚  ç®¡ç†ç•Œé¢    â”‚ ç®¡ç†ç•Œé¢  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Tauri IPC
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ä¸šåŠ¡é€»è¾‘å±‚(Tauri Commands)                       â”‚
â”‚                      Rust Backend                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Provider   â”‚  MCP Mgmt   â”‚  Skills     â”‚  Config      â”‚ â”‚
â”‚  â”‚  Commands   â”‚  Commands   â”‚  Commands   â”‚  Commands    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚         Service Layer(ä¸šåŠ¡æœåŠ¡)             â”‚             â”‚
â”‚  â”‚  â”œâ”€ ProviderService                        â”‚             â”‚
â”‚  â”‚  â”œâ”€ McpService                             â”‚             â”‚
â”‚  â”‚  â”œâ”€ SkillService                           â”‚             â”‚
â”‚  â”‚  â””â”€ PromptService                          â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ•°æ®æŒä¹…åŒ–å±‚(Data Layer)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚   SQLite DB      â”‚   JSON Files     â”‚                     â”‚
â”‚  â”‚  (config.db)     â”‚  (settings.json) â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚         â”‚                    â”‚                                â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                  â”‚                                           â”‚
â”‚         ~/.BMAI-Tools/ ç›®å½•                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ç³»ç»Ÿé›†æˆå±‚(System Integration)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  æ–‡ä»¶ç³»ç»Ÿ   â”‚  ç³»ç»Ÿæ‰˜ç›˜   â”‚  GitHub API  â”‚               â”‚
â”‚  â”‚  operations â”‚  management â”‚  integration â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‚ é¡¹ç›®ç›®å½•ç»“æ„

### å‰ç«¯é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ App.tsx                          # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ index.css                        # å…¨å±€æ ·å¼
â”œâ”€â”€ main.tsx                         # React å…¥å£
â”‚
â”œâ”€â”€ components/                      # UI ç»„ä»¶
â”‚   â”œâ”€â”€ App.tsx                     # åº”ç”¨ä¸»æ¡†æ¶
â”‚   â”œâ”€â”€ AppSwitcher.tsx             # åº”ç”¨åˆ‡æ¢å™¨(Claude/Codex/Gemini)
â”‚   â”œâ”€â”€ ConfirmDialog.tsx            # ç¡®è®¤å¯¹è¯æ¡†
â”‚   â”œâ”€â”€ IconPicker.tsx               # å›¾æ ‡é€‰æ‹©å™¨
â”‚   â”œâ”€â”€ JsonEditor.tsx               # JSON ç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ MarkdownEditor.tsx            # Markdown ç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ mode-toggle.tsx              # æš—è‰²æ¨¡å¼åˆ‡æ¢
â”‚   â”‚
â”‚   â”œâ”€â”€ providers/                  # Provider ç®¡ç†ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ ProviderList.tsx        # Provider åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ ProviderCard.tsx        # Provider å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ ProviderActions.tsx     # Provider æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ AddProviderDialog.tsx   # æ·»åŠ  Provider å¯¹è¯æ¡†
â”‚   â”‚   â”œâ”€â”€ EditProviderDialog.tsx  # ç¼–è¾‘ Provider å¯¹è¯æ¡†
â”‚   â”‚   â”œâ”€â”€ ProviderEmptyState.tsx  # ç©ºçŠ¶æ€æç¤º
â”‚   â”‚   â””â”€â”€ forms/                  # Provider è¡¨å•
â”‚   â”‚       â”œâ”€â”€ ProviderForm.tsx    # é€šç”¨ Provider è¡¨å•
â”‚   â”‚       â”œâ”€â”€ BasicFormFields.tsx # åŸºç¡€è¡¨å•å­—æ®µ
â”‚   â”‚       â”œâ”€â”€ ClaudeFormFields.tsx # Claude ç‰¹å®šå­—æ®µ
â”‚   â”‚       â”œâ”€â”€ CodexFormFields.tsx  # Codex ç‰¹å®šå­—æ®µ
â”‚   â”‚       â”œâ”€â”€ GeminiFormFields.tsx # Gemini ç‰¹å®šå­—æ®µ
â”‚   â”‚       â””â”€â”€ hooks/              # è¡¨å•ç›¸å…³ Hooks
â”‚   â”‚           â”œâ”€â”€ useApiKeyState.ts
â”‚   â”‚           â”œâ”€â”€ useBaseUrlState.ts
â”‚   â”‚           â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ mcp/                        # MCP ç®¡ç†ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ UnifiedMcpPanel.tsx     # ç»Ÿä¸€ MCP ç®¡ç†é¢æ¿
â”‚   â”‚   â”œâ”€â”€ McpFormModal.tsx        # MCP è¡¨å•å¯¹è¯æ¡†
â”‚   â”‚   â”œâ”€â”€ McpWizardModal.tsx      # MCP å‘å¯¼
â”‚   â”‚   â””â”€â”€ useMcpValidation.ts     # MCP éªŒè¯ Hook
â”‚   â”‚
â”‚   â”œâ”€â”€ prompts/                    # Prompts ç®¡ç†ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ PromptPanel.tsx         # Prompts ç®¡ç†é¢æ¿
â”‚   â”‚   â”œâ”€â”€ PromptListItem.tsx      # Prompt åˆ—è¡¨é¡¹
â”‚   â”‚   â”œâ”€â”€ PromptFormModal.tsx     # Prompt ç¼–è¾‘å¯¹è¯æ¡†
â”‚   â”‚   â”œâ”€â”€ PromptToggle.tsx        # Prompt å¯ç”¨/ç¦ç”¨å¼€å…³
â”‚   â”‚   â””â”€â”€ usePromptActions.ts     # Prompt æ“ä½œ Hook
â”‚   â”‚
â”‚   â”œâ”€â”€ settings/                   # è®¾ç½®ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ SettingsDialog.tsx      # è®¾ç½®å¯¹è¯æ¡†
â”‚   â”‚   â”œâ”€â”€ DirectorySettings.tsx   # ç›®å½•è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ AboutSection.tsx        # å…³äºéƒ¨åˆ†
â”‚   â”‚   â””â”€â”€ LanguageSwitcher.tsx    # è¯­è¨€åˆ‡æ¢å™¨
â”‚   â”‚
â”‚   â””â”€â”€ agents/                     # Agents ç®¡ç†
â”‚       â””â”€â”€ AgentsPanel.tsx         # Agents é¢æ¿
â”‚
â”œâ”€â”€ hooks/                           # React è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ useProviderActions.ts       # Provider æ“ä½œ Hook
â”‚   â”œâ”€â”€ useMcpActions.ts            # MCP æ“ä½œ Hook
â”‚   â”œâ”€â”€ useSettings.ts              # è®¾ç½® Hook
â”‚   â”œâ”€â”€ useImportExport.ts          # å¯¼å…¥å¯¼å‡º Hook
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ lib/                             # å·¥å…·å‡½æ•°åº“
â”‚   â”œâ”€â”€ api.ts                      # Tauri API è°ƒç”¨
â”‚   â”œâ”€â”€ validators.ts               # æ•°æ®éªŒè¯
â”‚   â”œâ”€â”€ formatters.ts               # æ•°æ®æ ¼å¼åŒ–
â”‚   â””â”€â”€ constants.ts                # å¸¸é‡å®šä¹‰
â”‚
â”œâ”€â”€ i18n/                            # å›½é™…åŒ–
â”‚   â”œâ”€â”€ index.ts                    # i18next é…ç½®
â”‚   â””â”€â”€ locales/
â”‚       â”œâ”€â”€ en.json                 # è‹±æ–‡ç¿»è¯‘
â”‚       â”œâ”€â”€ zh.json                 # ä¸­æ–‡ç¿»è¯‘
â”‚       â””â”€â”€ ja.json                 # æ—¥æ–‡ç¿»è¯‘
â”‚
â””â”€â”€ assets/                          # é™æ€èµ„æº
    â””â”€â”€ icons/                      # å›¾æ ‡æ–‡ä»¶
        â”œâ”€â”€ chatgpt.svg
        â”œâ”€â”€ claude.svg
        â””â”€â”€ ...
```

### åç«¯é¡¹ç›®ç»“æ„

```
src-tauri/
â”œâ”€â”€ Cargo.toml                       # Rust ä¾èµ–é…ç½®
â”œâ”€â”€ Cargo.lock                       # ä¾èµ–é”å®šæ–‡ä»¶
â”œâ”€â”€ build.rs                         # æ„å»ºè„šæœ¬
â”‚
â””â”€â”€ src/
    â”œâ”€â”€ main.rs                      # åº”ç”¨å…¥å£ç‚¹
    â”œâ”€â”€ lib.rs                       # åº“å®šä¹‰
    â”‚
    â”œâ”€â”€ commands/                    # Tauri å‘½ä»¤(API æ¥å£)
    â”‚   â”œâ”€â”€ mod.rs                  # æ¨¡å—å¯¼å‡º
    â”‚   â”œâ”€â”€ provider.rs             # Provider ç›¸å…³å‘½ä»¤
    â”‚   â”œâ”€â”€ mcp.rs                  # MCP ç›¸å…³å‘½ä»¤
    â”‚   â”œâ”€â”€ prompt.rs               # Prompt ç›¸å…³å‘½ä»¤
    â”‚   â”œâ”€â”€ skill.rs                # Skill ç›¸å…³å‘½ä»¤
    â”‚   â”œâ”€â”€ config.rs               # é…ç½®ç›¸å…³å‘½ä»¤
    â”‚   â”œâ”€â”€ settings.rs             # è®¾ç½®ç›¸å…³å‘½ä»¤
    â”‚   â”œâ”€â”€ import_export.rs        # å¯¼å…¥å¯¼å‡ºå‘½ä»¤
    â”‚   â”œâ”€â”€ env.rs                  # ç¯å¢ƒå˜é‡å‘½ä»¤
    â”‚   â””â”€â”€ misc.rs                 # æ‚é¡¹å‘½ä»¤
    â”‚
    â”œâ”€â”€ database/                    # æ•°æ®åº“æ¨¡å—
    â”‚   â”œâ”€â”€ mod.rs                  # æ•°æ®åº“åˆå§‹åŒ–
    â”‚   â”œâ”€â”€ schema.rs               # æ•°æ®åº“ schema
    â”‚   â”œâ”€â”€ backup.rs               # å¤‡ä»½åŠŸèƒ½
    â”‚   â”œâ”€â”€ migration.rs            # æ•°æ®è¿ç§»
    â”‚   â””â”€â”€ providers_dao.rs        # Provider æ•°æ®è®¿é—®
    â”‚
    â”œâ”€â”€ services/                    # ä¸šåŠ¡é€»è¾‘æœåŠ¡
    â”‚   â”œâ”€â”€ provider_service.rs     # Provider ä¸šåŠ¡é€»è¾‘
    â”‚   â”œâ”€â”€ mcp_service.rs          # MCP ä¸šåŠ¡é€»è¾‘
    â”‚   â”œâ”€â”€ prompt_service.rs       # Prompt ä¸šåŠ¡é€»è¾‘
    â”‚   â”œâ”€â”€ skill_service.rs        # Skill ä¸šåŠ¡é€»è¾‘
    â”‚   â”œâ”€â”€ config_service.rs       # é…ç½®ä¸šåŠ¡é€»è¾‘
    â”‚   â””â”€â”€ ...
    â”‚
    â”œâ”€â”€ app_config.rs                # åº”ç”¨é…ç½®
    â”œâ”€â”€ app_store.rs                 # åº”ç”¨å­˜å‚¨
    â”œâ”€â”€ claude_mcp.rs                # Claude MCP å¤„ç†
    â”œâ”€â”€ claude_plugin.rs             # Claude æ’ä»¶
    â”œâ”€â”€ codex_config.rs              # Codex é…ç½®
    â”œâ”€â”€ gemini_config.rs             # Gemini é…ç½®
    â”œâ”€â”€ auto_launch.rs               # è‡ªåŠ¨å¯åŠ¨
    â”œâ”€â”€ config.rs                    # é…ç½®å®šä¹‰
    â””â”€â”€ error.rs                     # é”™è¯¯å®šä¹‰
```

---

## ğŸ”„ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. Provider ç®¡ç†ç³»ç»Ÿ

**åŠŸèƒ½:**
- åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ä¾›åº”å•†é…ç½®
- æ”¯æŒé¢„è®¾æ¨¡æ¿(Claudeã€OpenAIã€Geminiç­‰)
- è‡ªå®šä¹‰ API ç«¯ç‚¹
- ä½¿ç”¨é‡æŸ¥è¯¢å’Œç«¯ç‚¹æµ‹é€Ÿ
- é…ç½®å¯¼å…¥å¯¼å‡º

**å…³é”®æ–‡ä»¶:**
- å‰ç«¯: `src/components/providers/`
- åç«¯: `src-tauri/src/commands/provider.rs`, `src-tauri/src/services/provider_service.rs`
- æ•°æ®åº“: SQLite è¡¨ `providers`

**æ•°æ®æµ:**
```
ç”¨æˆ·åœ¨ UI æ·»åŠ  Provider
    â†“
React ç»„ä»¶æ”¶é›†è¡¨å•æ•°æ®
    â†“
å‰ç«¯è°ƒç”¨ invoke('add_provider', {...})
    â†“
Tauri å‘½ä»¤è·¯ç”±åˆ° commands/provider.rs
    â†“
ProviderService ä¸šåŠ¡é€»è¾‘å¤„ç†
    â†“
æ•°æ®å­˜å‚¨åˆ° SQLite config.db
    â†“
è¿”å›æˆåŠŸå“åº”ç»™å‰ç«¯
    â†“
å‰ç«¯æ›´æ–° UI æ˜¾ç¤ºæ–° Provider
```

### 2. MCP æœåŠ¡ç®¡ç†

**åŠŸèƒ½:**
- ç»Ÿä¸€ç®¡ç† Claude/Codex/Gemini çš„ MCP æœåŠ¡å™¨
- æ”¯æŒ stdioã€httpã€sse ä¼ è¾“åè®®
- å®æ—¶å¯ç”¨/ç¦ç”¨ MCP æœåŠ¡
- å†…ç½®å¸¸ç”¨ MCP æœåŠ¡æ¨¡æ¿

**å…³é”®æ–‡ä»¶:**
- å‰ç«¯: `src/components/mcp/`
- åç«¯: `src-tauri/src/commands/mcp.rs`, `src-tauri/src/claude_mcp.rs`, `src-tauri/src/codex_config.rs`

### 3. Skills ç®¡ç†ç³»ç»Ÿ

**åŠŸèƒ½:**
- ä» GitHub ä»“åº“è‡ªåŠ¨å‘ç° Claude Skills
- ä¸€é”®å®‰è£…åˆ° `~/.claude/skills/`
- ç”Ÿå‘½å‘¨æœŸç®¡ç†(å®‰è£…ã€å¸è½½ã€æ›´æ–°)
- æ”¯æŒè‡ªå®šä¹‰ Skills ä»“åº“

**å…³é”®æ–‡ä»¶:**
- å‰ç«¯: `src/components/agents/` (Skills é¢æ¿)
- åç«¯: `src-tauri/src/commands/skill.rs`, `src-tauri/src/services/skill_service.rs`

### 4. Prompts ç®¡ç†ç³»ç»Ÿ

**åŠŸèƒ½:**
- åˆ›å»ºå¤šä¸ªç³»ç»Ÿæç¤ºè¯é¢„è®¾
- ç¼–è¾‘å’Œåˆ‡æ¢æç¤ºè¯
- è‡ªåŠ¨åŒæ­¥åˆ° Claude/Codex/Gemini é…ç½®æ–‡ä»¶
- å…¨åŠŸèƒ½ Markdown ç¼–è¾‘å™¨

**å…³é”®æ–‡ä»¶:**
- å‰ç«¯: `src/components/prompts/`
- åç«¯: `src-tauri/src/commands/prompt.rs`, `src-tauri/src/services/prompt_service.rs`

### 5. é…ç½®ç®¡ç†ç³»ç»Ÿ

**åŠŸèƒ½:**
- è¯»å†™ Claude/.claude.json
- è¯»å†™ Codex/config.toml å’Œ auth.json
- è¯»å†™ Gemini/.env å’Œ settings.json
- é…ç½®éªŒè¯å’Œé”™è¯¯å¤„ç†

**å…³é”®æ–‡ä»¶:**
- åç«¯: `src-tauri/src/app_config.rs`, `src-tauri/src/services/config_service.rs`

---

## ğŸ—„ï¸ æ•°æ®æŒä¹…åŒ–

### å­˜å‚¨ä½ç½®

```
Windows:
C:\Users\<ç”¨æˆ·å>\.BMAI-Tools\
â”œâ”€â”€ config.db              # SQLite æ•°æ®åº“
â”œâ”€â”€ settings.json          # åº”ç”¨è®¾ç½®
â””â”€â”€ backups/              # é…ç½®å¤‡ä»½
    â”œâ”€â”€ config.v3.backup.2025-11-29_10-30-00.db
    â””â”€â”€ ...

macOS:
~/.BMAI-Tools/
â”œâ”€â”€ config.db
â”œâ”€â”€ settings.json
â””â”€â”€ backups/

Linux:
~/.BMAI-Tools/
â”œâ”€â”€ config.db
â”œâ”€â”€ settings.json
â””â”€â”€ backups/
```

### æ•°æ®åº“ Schema

```sql
-- Providers è¡¨
CREATE TABLE providers (
    id TEXT PRIMARY KEY,
    name TEXT NOT NULL,
    category TEXT,
    apiKey TEXT,
    baseUrl TEXT,
    customEndpoints JSON,
    createdAt TIMESTAMP,
    updatedAt TIMESTAMP
);

-- MCP è¡¨
CREATE TABLE mcp_servers (
    id TEXT PRIMARY KEY,
    app TEXT,  -- claude, codex, gemini
    name TEXT,
    command TEXT,
    args JSON,
    enabled BOOLEAN,
    type TEXT   -- stdio, http, sse
);

-- Prompts è¡¨
CREATE TABLE prompts (
    id TEXT PRIMARY KEY,
    name TEXT,
    content TEXT,
    app TEXT,  -- claude, codex, gemini
    enabled BOOLEAN,
    createdAt TIMESTAMP
);

-- Skills è¡¨
CREATE TABLE skills (
    id TEXT PRIMARY KEY,
    name TEXT,
    repo TEXT,
    path TEXT,
    installed BOOLEAN,
    installedAt TIMESTAMP
);
```

### Settings.json ç»“æ„

```json
{
  "language": "zh",
  "theme": "dark",
  "autoLaunch": false,
  "windowSize": { "width": 1200, "height": 800 },
  "windowPosition": { "x": 100, "y": 100 },
  "claudeDir": "~/.claude",
  "codexDir": "~/.codex",
  "geminiDir": "~/.gemini"
}
```

---

## ğŸ”— å‰åç«¯é€šä¿¡

### Tauri IPC å‘½ä»¤

```typescript
// å‰ç«¯è°ƒç”¨ç¤ºä¾‹
import { invoke } from '@tauri-apps/api/core';

// æ·»åŠ  Provider
const result = await invoke('add_provider', {
  app: 'claude',
  provider: {
    name: 'Claude Official',
    apiKey: 'sk-xxx',
    category: 'official'
  }
});

// è·å–æ‰€æœ‰ Provider
const providers = await invoke('get_providers', {
  app: 'claude'
});

// å¯ç”¨ MCP æœåŠ¡
await invoke('toggle_mcp_server', {
  app: 'claude',
  serverId: 'mcp-fetch',
  enabled: true
});
```

### å‘½ä»¤å‚æ•°éªŒè¯

åç«¯ä½¿ç”¨ Zod schema éªŒè¯æ‰€æœ‰è¯·æ±‚å‚æ•°:

```rust
// ä¾‹å¦‚: Provider å‚æ•°éªŒè¯
pub struct AddProviderRequest {
    pub app: String,  // claude | codex | gemini
    pub provider: ProviderConfig,
}

// éªŒè¯é€»è¾‘
validate_add_provider_request(&req)?;  // è¿”å› Result
```

---

## ğŸ” å®‰å…¨è®¾è®¡

### æ•æ„Ÿä¿¡æ¯å¤„ç†
1. **API Key å­˜å‚¨** - å­˜å‚¨åœ¨æœ¬åœ° SQLite,ä½¿ç”¨ç³»ç»Ÿå¯†é’¥è¿›è¡ŒåŠ å¯†(å¯é€‰)
2. **æ–‡ä»¶æƒé™** - `~/.BMAI-Tools/` ç›®å½•æƒé™è®¾ä¸º `0700`
3. **IPC å®‰å…¨** - Tauri å†…ç½®çš„ IPC ä¼šè‡ªåŠ¨éªŒè¯å‘½ä»¤æ¥æº
4. **CSP ç­–ç•¥** - å†…å®¹å®‰å…¨ç­–ç•¥é˜²æ­¢ XSS æ”»å‡»

### é”™è¯¯å¤„ç†
- æ‰€æœ‰æ“ä½œè¿”å› `Result` ç±»å‹
- é”™è¯¯æ¶ˆæ¯å›½é™…åŒ–
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
- æ—¥å¿—è®°å½•è¯¦ç»†é”™è¯¯ä¿¡æ¯

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### å‰ç«¯æµ‹è¯•

```bash
# å•å…ƒæµ‹è¯•(Vitest + React Testing Library)
pnpm test:unit

# è¦†ç›–çš„æµ‹è¯•:
- ç»„ä»¶æ¸²æŸ“æµ‹è¯•
- ç”¨æˆ·äº¤äº’æµ‹è¯•
- Hook é€»è¾‘æµ‹è¯•
- è¡¨å•éªŒè¯æµ‹è¯•
```

### åç«¯æµ‹è¯•

```bash
# Rust å•å…ƒæµ‹è¯•
cd src-tauri
cargo test

# è¦†ç›–çš„æµ‹è¯•:
- æ•°æ®åº“æ“ä½œ
- API å‘½ä»¤å‚æ•°éªŒè¯
- ä¸šåŠ¡é€»è¾‘
- é”™è¯¯å¤„ç†
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–
- React.memo é¿å…ä¸å¿…è¦é‡æ–°æ¸²æŸ“
- ä»£ç åˆ†å‰²(Code splitting)
- æ‡’åŠ è½½å¤§å‹ç»„ä»¶
- TailwindCSS åŸå­åŒ– CSS æœ€å°åŒ–åŒ…å¤§å°

### åç«¯ä¼˜åŒ–
- SQLite æ•°æ®åº“è¿æ¥æ± 
- å¼‚æ­¥ I/O æ“ä½œ(Tokio)
- é€‚åº¦çš„ç¼“å­˜ç­–ç•¥
- äºŒè¿›åˆ¶ä¼˜åŒ–(`codegen-units = 1`, `lto = thin`)

---

## ğŸš€ éƒ¨ç½²æµç¨‹

### å¼€å‘åˆ°ç”Ÿäº§

1. **æœ¬åœ°å¼€å‘** - `pnpm dev`
2. **ä»£ç å®¡æŸ¥** - åˆ›å»º PR
3. **CI/CD æµ‹è¯•** - GitHub Actions
4. **æ„å»ºå‘å¸ƒ** - `pnpm tauri build`
5. **ç”Ÿæˆå®‰è£…åŒ…** - Windows MSI, macOS DMG, Linux AppImage
6. **å‘å¸ƒåˆ° GitHub Releases**
7. **ç”¨æˆ·è‡ªåŠ¨æ›´æ–°** - Tauri Updater

---

## ğŸ“š å…³é”®æŠ€æœ¯å†³ç­–

| æŠ€æœ¯ | é€‰æ‹© | åŸå›  |
|------|------|------|
| UI Framework | React | ç”Ÿæ€ä¸°å¯Œ,å­¦ä¹ èµ„æºå¤š |
| åç«¯æ¡†æ¶ | Tauri | è½»é‡çº§,è·¨å¹³å°,å°åŒ…ä½“ç§¯ |
| æ•°æ®åº“ | SQLite | è½»é‡çº§,æ— éœ€æœåŠ¡å™¨,æ˜“äºæ‰“åŒ… |
| çŠ¶æ€ç®¡ç† | TanStack Query | çµæ´»,è‡ªåŠ¨ç¼“å­˜,æ˜“äºåŒæ­¥ |
| æ ·å¼ | TailwindCSS | åŸå­åŒ–CSS,å¿«é€Ÿå¼€å‘ |
| å›½é™…åŒ– | i18next | åŠŸèƒ½å®Œæ•´,æ˜“äºæ‰©å±• |

---

## ğŸ”® æœªæ¥æ‰©å±•

**å¯èƒ½çš„å¢å¼ºæ–¹å‘:**
1. äº‘åŒæ­¥é…ç½®(å¯é€‰)
2. æµè§ˆå™¨æ‰©å±•
3. VS Code æ‰©å±•
4. å‘½ä»¤è¡Œå·¥å…·(CLI)
5. æ’ä»¶ç³»ç»Ÿ

---

<div align="center">

**ğŸ´ åŒ—é©¬AIÂ·ä¸ä½ åŒåœ¨ ğŸ˜Š**

[è¿”å›README](../README.md) | [å¼€å‘æŒ‡å—](./å¼€å‘æ­¥éª¤æ“ä½œæ–‡æ¡£.md)

</div>
